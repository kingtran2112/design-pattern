{"version":3,"file":"./dist/bundle.js","mappings":"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","sources":["webpack:///./src/index.ts","webpack:///./src/caretaker.ts","webpack:///./src/memento.ts","webpack:///./src/originator.ts","webpack:///webpack/bootstrap"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar originator_1 = require(\"./originator\");\nvar caretaker_1 = require(\"./caretaker\");\nvar inputField = document.querySelector(\"input\");\nvar originator = new originator_1.Originator(inputField.value || \"\", 0);\nvar caretaker = new caretaker_1.Caretaker(originator, []);\nconsole.log(originator);\nconsole.log(caretaker);\ninputField.onchange = function () {\n    var value = inputField.value;\n    caretaker.backup();\n    originator.setText(value);\n    console.log(originator);\n    console.log(caretaker);\n};\nvar undo = document.querySelector(\"button#undo\");\nundo.onclick = function () {\n    caretaker.undo();\n    inputField.value = originator.text;\n    console.log(originator);\n    console.log(caretaker);\n};\nvar redo = document.querySelector(\"button#redo\");\nredo.onclick = function () {\n    caretaker.redo();\n    inputField.value = originator.text;\n    console.log(originator);\n    console.log(caretaker);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Caretaker = void 0;\nvar Caretaker = /** @class */ (function () {\n    function Caretaker(originator, history) {\n        this.originator = originator;\n        this.history = history;\n        this.index = 0;\n    }\n    Caretaker.prototype.backup = function () {\n        this.history[this.index] = this.originator.save();\n        this.index++;\n    };\n    Caretaker.prototype.undo = function () {\n        if (this.index < 1) {\n            return;\n        }\n        this.originator.restore(this.history[--this.index]);\n    };\n    Caretaker.prototype.redo = function () {\n        if (this.index >= this.history.length) {\n            return;\n        }\n        this.originator.restore(this.history[this.index++]);\n    };\n    return Caretaker;\n}());\nexports.Caretaker = Caretaker;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InputMemento = void 0;\nvar InputMemento = /** @class */ (function () {\n    function InputMemento(text, cursor) {\n        this.text = text;\n        this.cursor = cursor;\n    }\n    InputMemento.prototype.getText = function () {\n        return this.text;\n    };\n    InputMemento.prototype.getCursor = function () {\n        return this.cursor;\n    };\n    InputMemento.prototype.getName = function () {\n        return \"InputMemento\";\n    };\n    InputMemento.prototype.getDate = function () {\n        return new Date().toISOString();\n    };\n    return InputMemento;\n}());\nexports.InputMemento = InputMemento;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Originator = void 0;\nvar memento_1 = require(\"./memento\");\nvar Originator = /** @class */ (function () {\n    function Originator(text, cursorPos) {\n        this.text = text;\n        this.cursorPos = cursorPos;\n    }\n    Originator.prototype.setText = function (text) {\n        this.text = text;\n    };\n    Originator.prototype.setCursor = function (cursor) {\n        this.cursorPos = cursor;\n    };\n    Originator.prototype.save = function () {\n        return new memento_1.InputMemento(this.text, this.cursorPos);\n    };\n    Originator.prototype.restore = function (m) {\n        if (!(m instanceof memento_1.InputMemento)) {\n            console.warn(m instanceof memento_1.InputMemento);\n            console.warn(typeof m);\n            throw new Error(\"Something wrong!\");\n        }\n        this.text = m.getText();\n        this.cursorPos = m.getCursor();\n    };\n    return Originator;\n}());\nexports.Originator = Originator;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n"],"names":["originator_1","caretaker_1","inputField","originator","caretaker","Object","defineProperty","exports","value","Caretaker","history","this","index","prototype","backup","save","undo","restore","redo","length","InputMemento","text","cursor","getText","getCursor","getName","getDate","Date","toISOString","Originator","memento_1","cursorPos","setText","setCursor","m","console","warn","Error","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","document","querySelector","log","onchange","onclick"],"sourceRoot":""}