(()=>{"use strict";var t,o,e,n,r,i={273:(t,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Caretaker=void 0;var e=function(){function t(t,o){this.originator=t,this.history=o,this.index=0}return t.prototype.backup=function(){this.history[this.index]=this.originator.save(),this.index++},t.prototype.undo=function(){this.index<1||this.originator.restore(this.history[--this.index])},t.prototype.redo=function(){this.index>=this.history.length||this.originator.restore(this.history[this.index++])},t}();o.Caretaker=e},266:(t,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InputMemento=void 0;var e=function(){function t(t,o){this.text=t,this.cursor=o}return t.prototype.getText=function(){return this.text},t.prototype.getCursor=function(){return this.cursor},t.prototype.getName=function(){return"InputMemento"},t.prototype.getDate=function(){return(new Date).toISOString()},t}();o.InputMemento=e},433:(t,o,e)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Originator=void 0;var n=e(266),r=function(){function t(t,o){this.text=t,this.cursorPos=o}return t.prototype.setText=function(t){this.text=t},t.prototype.setCursor=function(t){this.cursorPos=t},t.prototype.save=function(){return new n.InputMemento(this.text,this.cursorPos)},t.prototype.restore=function(t){if(!(t instanceof n.InputMemento))throw console.warn(t instanceof n.InputMemento),console.warn(typeof t),new Error("Something wrong!");this.text=t.getText(),this.cursorPos=t.getCursor()},t}();o.Originator=r}},s={};function u(t){var o=s[t];if(void 0!==o)return o.exports;var e=s[t]={exports:{}};return i[t](e,e.exports,u),e.exports}t=u(433),o=u(273),e=document.querySelector("input"),n=new t.Originator(e.value||"",0),r=new o.Caretaker(n,[]),console.log(n),console.log(r),e.onchange=function(){var t=e.value;r.backup(),n.setText(t),console.log(n),console.log(r)},document.querySelector("button#undo").onclick=function(){r.undo(),e.value=n.text,console.log(n),console.log(r)},document.querySelector("button#redo").onclick=function(){r.redo(),e.value=n.text,console.log(n),console.log(r)}})();
//# sourceMappingURL=bundle.js.map